(this["webpackJsonpredux-notes"]=this["webpackJsonpredux-notes"]||[]).push([[0],{25:function(e,t,n){},57:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(6),a=n.n(r),o=n(2),i=n(4),s=n.n(i),l=n(3),u=n(9),d=n(13),j=n.n(d),b="https://60dc8bf9c2b6280017febacf.mockapi.io/api/notes",m={getAll:function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get(b);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),createNew:function(){var e=Object(u.a)(s.a.mark((function e(t){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,j.a.post(b,n);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateNote:function(){var e=Object(u.a)(s.a.mark((function e(t,n){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.put(b+"/"+t,n);case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},f=function(e){return{type:"SET_FILTER",filter:e}},h=n(1),O=function(e){var t=e.note,n=Object(o.b)();return Object(h.jsx)("div",{className:"card m-2",style:{width:"18rem"},children:Object(h.jsxs)("div",{className:"card-body",onClick:function(){n(function(e){return{type:"OPEN_NOTE",note:e}}(t))},children:[Object(h.jsx)("p",{className:"card-text",children:t.title}),Object(h.jsxs)("div",{onClick:function(e){e.stopPropagation()},children:[Object(h.jsx)("input",{type:"checkbox",className:"form-check-input",checked:t.important,onChange:function(){return n(function(e){return function(){var t=Object(u.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.updateNote(e.id,{important:!e.important});case 2:n({type:"TOGGLE_IMPORTANCE",data:{id:e.id}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},id:t.id}),Object(h.jsx)("label",{className:"form-check-label",htmlFor:t.id,children:Object(h.jsx)("em",{className:"m-2",children:"important"})})]})]})})},p=function(){var e=Object(o.c)((function(e){return"ALL"===e.filter?e.notes:"IMPORTANT"===e.filter?e.notes.filter((function(e){return e.important})):e.notes.filter((function(e){return!e.important}))}));return Object(h.jsx)("div",{className:"d-flex flex-wrap",children:e.map((function(e){return Object(h.jsx)(O,{note:e},e.id)}))})},x=(n(57),function(e){return Object(h.jsx)("svg",{onClick:e.onClick,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fillRule:"currentColor",className:"bi bi-plus-lg btn-round",viewBox:"0 0 16 16",children:Object(h.jsx)("path",{d:"M8 0a1 1 0 0 1 1 1v6h6a1 1 0 1 1 0 2H9v6a1 1 0 1 1-2 0V9H1a1 1 0 0 1 0-2h6V1a1 1 0 0 1 1-1z"})})}),v=function(){var e=Object(o.b)();return Object(h.jsx)("div",{children:Object(h.jsx)(x,{onClick:function(){e({type:"OPEN_FORM"})}})})},N=function(){var e=Object(o.b)();return Object(h.jsxs)("div",{className:"m-3 row g-2 align-items-start",children:[Object(h.jsxs)("div",{className:"form-check form-check-inline col-auto",children:[Object(h.jsx)("input",{className:"form-check-input",type:"radio",name:"radio",id:"radio1",onChange:function(){return e(f("ALL"))}}),Object(h.jsx)("label",{className:"form-check-label",htmlFor:"radio1",children:"all"})]}),Object(h.jsxs)("div",{className:"form-check col-auto form-check-inline",children:[Object(h.jsx)("input",{className:"form-check-input",type:"radio",name:"radio",id:"radio2",onChange:function(){return e(f("IMPORTANT"))}}),Object(h.jsx)("label",{className:"form-check-label",htmlFor:"radio2",children:"important"})]}),Object(h.jsxs)("div",{className:"form-check col form-check-inline",children:[Object(h.jsx)("input",{className:"form-check-input",type:"radio",name:"radio",id:"radio3",onChange:function(){return e(f("NONIMPORTANT"))}}),Object(h.jsx)("label",{className:"form-check-label",htmlFor:"radio3",children:"nonimportant"})]})]})},w=n(64),k=n(12),y=n.n(k),E=(n(25),function(){var e=Object(o.c)((function(e){return e.modal.showNote})),t=Object(o.c)((function(e){return e.modal.noteToShow})),n=Object(o.b)(),r=Object(c.useRef)(null),i=Object(c.useRef)(null),l=Object(c.useRef)(null),d=function(){n({type:"CLOSE_NOTE"})},j=function(){n(function(e,t){return function(){var n=Object(u.a)(s.a.mark((function n(c){var r;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.updateNote(e,t);case 2:r=n.sent,c({type:"UPDATE_NOTE",id:e,note:r});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t.id,{title:r.current.value.trim(),content:i.current.value.trim(),important:l.current.checked}))},b=function(e){27===(e.charCode||e.keyCode)&&d()};return Object(c.useEffect)((function(){return document.body.addEventListener("keydown",b),function(){document.body.removeEventListener("keydown",b)}}),[]),a.a.createPortal(Object(h.jsx)(w.a,{in:e,unmountOnExit:!0,timeout:{enter:0,exit:300},children:Object(h.jsx)("div",{className:"modal",onClick:d,children:Object(h.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(h.jsx)("div",{className:"modal-header",children:Object(h.jsx)("input",{type:"text",className:"form-control-plaintext",defaultValue:null===t||void 0===t?void 0:t.title,ref:r,placeholder:"Title"})}),Object(h.jsx)(y.a,{className:"modal-body",style:{padding:"15px",border:"0px",boxShadow:"none"},rows:6,defaultValue:null===t||void 0===t?void 0:t.content,ref:i,placeholder:"Content"}),Object(h.jsxs)("div",{className:"modal-footer",children:[Object(h.jsxs)("div",{className:"flex-grow-1 ",children:[Object(h.jsx)("input",{type:"checkbox",className:"form-check-input",defaultChecked:null===t||void 0===t?void 0:t.important,id:"updateNote",ref:l}),Object(h.jsx)("label",{className:"form-check-label",htmlFor:"updateNote",children:Object(h.jsx)("em",{className:"m-2",children:"important"})})]}),Object(h.jsx)("button",{className:"btn",onClick:function(){console.log(r.current.value,i.current.value),j(),d()},children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",fillRule:"currentColor",className:"bi bi-check2",viewBox:"0 0 16 16",children:Object(h.jsx)("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"})})})]})]})})}),document.getElementById("root"))}),g=function(){var e=Object(o.c)((function(e){return e.modal.showForm})),t=Object(o.b)(),n=Object(c.useRef)(null),r=Object(c.useRef)(null),i=Object(c.useRef)(null),d=function(){t({type:"CLOSE_FORM"})},j=function(){var e,c=n.current.value.trim(),a=r.current.value.trim(),o=i.current.checked;""!==c&&t((e={title:c,content:a,important:o},function(){var t=Object(u.a)(s.a.mark((function t(n){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.createNew(e);case 2:c=t.sent,n({type:"NEW_NOTE",data:Object(l.a)({},c)});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},b=function(e){27===(e.charCode||e.keyCode)&&d()};return Object(c.useEffect)((function(){return document.body.addEventListener("keydown",b),function(){document.body.removeEventListener("keydown",b)}}),[]),a.a.createPortal(Object(h.jsx)(w.a,{in:e,unmountOnExit:!0,timeout:{enter:0,exit:300},children:Object(h.jsx)("div",{className:"modal",onClick:d,children:Object(h.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(h.jsx)("div",{className:"modal-header",children:Object(h.jsx)("input",{type:"text",className:"form-control-plaintext",ref:n,placeholder:"Title"})}),Object(h.jsx)(y.a,{className:"modal-body",style:{padding:"15px",border:"0px",boxShadow:"none"},rows:6,ref:r,placeholder:"Content"}),Object(h.jsxs)("div",{className:"modal-footer",children:[Object(h.jsxs)("div",{className:"flex-grow-1 ",children:[Object(h.jsx)("input",{type:"checkbox",className:"form-check-input",defaultChecked:!1,id:"createNote",ref:i}),Object(h.jsx)("label",{className:"form-check-label",htmlFor:"createNote",children:Object(h.jsx)("em",{className:"m-2",children:"important"})})]}),Object(h.jsx)("button",{className:"btn",onClick:function(){console.log(n.current.value,r.current.value),j(),d()},children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",fillRule:"currentColor",className:"bi bi-check2",viewBox:"0 0 16 16",children:Object(h.jsx)("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"})})})]})]})})}),document.getElementById("root"))},T=function(){var e=Object(o.b)();return Object(c.useEffect)((function(){m.getAll().then((function(t){return e(function(e){return{type:"INIT_NOTES",data:e}}(t))}))}),[e]),Object(h.jsxs)("div",{className:"wrapper",children:[Object(h.jsxs)("div",{className:"d-flex align-items-center",children:[Object(h.jsx)(N,{}),Object(h.jsx)(v,{})]}),Object(h.jsx)(p,{}),Object(h.jsx)(E,{}),Object(h.jsx)(g,{})]})},C=n(26),R=n(10),L={showNote:!1,showForm:!1},_=n(27),F=Object(R.combineReducers)({notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_NOTE":return e.concat(t.data);case"INIT_NOTES":return t.data;case"TOGGLE_IMPORTANCE":var n=t.data.id,c=e.find((function(e){return e.id===n})),r=Object(l.a)(Object(l.a)({},c),{},{important:!c.important});return e.map((function(e){return e.id!==n?e:r}));case"UPDATE_NOTE":var a=t.id,o=e.find((function(e){return e.id===a})),i=Object(l.a)(Object(l.a)({},o),t.note);return e.map((function(e){return e.id!==a?e:i}));default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTER":return t.filter;default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_NOTE":return Object(l.a)(Object(l.a)({},e),{},{showNote:!0,noteToShow:t.note});case"CLOSE_NOTE":return Object(l.a)(Object(l.a)({},e),{},{showNote:!1});case"OPEN_FORM":return Object(l.a)(Object(l.a)({},e),{},{showForm:!0});case"CLOSE_FORM":return Object(l.a)(Object(l.a)({},e),{},{showForm:!1});default:return e}}}),P=Object(R.createStore)(F,Object(_.composeWithDevTools)(Object(R.applyMiddleware)(C.a)));n(62);a.a.render(Object(h.jsx)(o.a,{store:P,children:Object(h.jsx)(T,{})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.3213a194.chunk.js.map